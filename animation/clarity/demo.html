<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>透明动画</title>
	<style type="text/css">
	#div1{
		width:200px;
		height: 200px;
		background-color:red;
		opacity:0.3;
		filter:alpha(opacity=30); /*针对IE8 ，以及更早的版本*/
	}
	</style>
	<script type="text/javascript">
	window.onload=function(){
		var oDiv=document.getElementById("div1");
		oDiv.onmouseover=function(){
			startMove(30); //100 不透明
		}
		oDiv.onmouseout=function(){
			startMove(100); // 透明度为30%
		}
	}
	var timer=null;
	var alpha=30;
	 function startMove(iTarget){
	 var oDiv=document.getElementById("div1");
	 clearInterval(timer); //清除定时器，防止事件叠加
	 timer = setInterval(function(){
	  var speed = 0;
	 if(alpha < iTarget){
	 	speed = 10;
	 }else{
	 	speed = -10;
	 }
	 if(alpha==iTarget){
	 	clearInterval(timer);
	 }	 
	 else{
	 	alpha+=speed;
	 	oDiv.style.filter='alpha(opacity:'+alpha+')';
	 	oDiv.style.opacity=alpha/100;
	 }

	 },30)
	
	
	}
	
	</script>
</head>
<body>
	<div id="div1"></div>

</body>
</html>