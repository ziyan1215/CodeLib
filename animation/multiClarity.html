<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>多物体透明动画</title>
	<style type="text/css">
	div{
		width:200px;
		height: 200px;
		background-color:red;
		opacity:1;
		filter:alpha(opacity=100); /*针对IE8 ，以及更早的版本*/
		margin:10px;
		float: left;
		}
	</style>
	<script type="text/javascript">
	window.onload=function(){
		var oDiv=document.getElementsByTagName("div");
		for(var i=0;i<oDiv.length;i++){
			 oDiv[i].timer = null;
			 oDiv[i].alpha = 30;
			oDiv[i].onmouseover=function(){
				startMove(this,30);
			}
			oDiv[i].onmouseout=function(){
				startMove(this,100);
			}
		}
		
	}

	//var timer=null;
	//var alpha=30;
	 function startMove(obj,iTarget){
	 //var oDiv=document.getElementsByTagName("div");
	 clearInterval(obj.timer); //清除定时器，防止事件叠加
	 obj.timer = setInterval(function(){
	  var speed = 0;
	 if(obj.alpha < iTarget){
	 	speed = 10;
	 }else{
	 	speed = -10;
	 }
	 if(obj.alpha==iTarget){
	 	clearInterval(obj.timer);
	 }	 
	 else{
	 	obj.alpha+=speed;
	 	obj.style.filter='alpha(opacity:'+obj.alpha+')';
	 	obj.style.opacity=obj.alpha/100;
	 }

	 },30)
	
	
	}
	
	</script>
</head>
<body>

	<div></div>
	<div></div>
	<div></div>
	<div></div>

</body>
</html>